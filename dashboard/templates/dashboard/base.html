{% load static %}
<!DOCTYPE html>
<html>
<head>
    <title>{% block title %}Dashboard{% endblock %}</title>

    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

</head>

<body>

<!-- ðŸ”µ NAVBAR -->
<nav class="navbar fixed" id="navbar">
    <div class="navbar-left">
        <i class="fa fa-bars px-5" id="toggleBtn"></i>
        <span class="logo-text">Customer Portal</span>
    </div>

   <div class="navbar-right d-flex align-items-center">
    <!-- Notification bell -->
    <div class="me-3">
        <a href="#" class="text-white position-relative" id="notifBtn">
            <i class="fa fa-bell" style="font-size:20px;"></i>
            <span class="badge bg-danger position-absolute" style="top:-6px; right:-8px; font-size:11px;">3</span>
        </a>
    </div>

    <!-- Username -->
    <div class="me-3 text-white" id="navUsername" style="font-weight:600;">
        {% if request.user.is_authenticated %}{{ request.user.first_name|default:request.user.username }}{% else %}Guest{% endif %}
    </div>

    <!-- Profile dropdown -->
    <div class="profile-menu pe-5">
        <i class="fa fa-user-circle profile-icon" id="profileBtn" style="cursor:pointer"></i>

        <div class="profile-dropdown" id="profileDropdown">
            <a href="{% url 'profile' %}"><i class="fa fa-user"></i> Profile</a>
            <a href="{% url 'logout' %}"><i class="fa fa-sign-out-alt"></i> Logout</a>
        </div>
    </div>
</div>
</nav>


<!-- ðŸŸ¦ SIDEBAR -->
<div class="sidebar" id="sidebar">
    <ul>
        <li><a href="/home/"><i class="fa fa-home"></i> <span>Dashboard</span></a></li>
        <li><a href="#"><i class="fa-solid fa-computer"></i> <span>App Management</span></a></li>
        <li><a href="/rdp-current-users/"><i class="fa fa-desktop"></i> <span>User Management</span></a></li>
        <li><a href="/rdp-activity/"><i class="fa fa-desktop"></i> <span>Activity</span></a></li>
        <li><a href="/profile/"><i class="fa fa-user"></i> <span>Account Details</span></a></li>
        <li><a href="#"><i class="fa fa-atom"></i> <span>Knowledge Base</span></a></li>
        <li><a href="#"><i class="fa fa-screwdriver-wrench"></i><span>Service Request</span></a></li>
        <li><a href="/support/"><i class="fa fa-headset"></i> <span>Support</span></a></li>
        <li><a href="/refer/"><i class="fa fa-gift"></i> <span>Refer a Friend</span></a></li>
        
       

    </ul>
</div>


<!-- CONTENT -->
<div class="content" id="content">
    {% block content %}{% endblock %}
</div>


<!-- Javascript -->
<script>
document.getElementById("toggleBtn").onclick = function() {
    document.getElementById("sidebar").classList.toggle("collapsed");
    document.getElementById("navbar").classList.toggle("expanded");
    document.getElementById("content").classList.toggle("expanded");
};

document.querySelector(".profile-icon").onclick = function() {
    document.getElementById("profileDropdown").classList.toggle("show");
};
</script>

</body>
</html>
